<table>
  <tr>
    <th><%= @poll.title %></th>
    <th>Number of votes</th>
  </tr>
  <% @poll.results.sort.each do |content, votes| %>
    <tr>
      <td><%= content %></td>
      <td><%= votes.size %> <%= plural_s('vote', votes.size) %></td>
    </tr>
  <% end %>
</table>

<h2>Total</h2>

<% if @poll.results.keys.first.is_a?(Integer) %>
  <%= sprintf "%d %s, average is %.1f", @poll.votes.size, plural_s('vote', @poll.votes.size), @poll.average %>
<% else %>
  <%= sprintf "%d %s", @poll.votes.size, plural_s('vote', @poll.votes.size) %>
<% end %>
